# L1 什么是操作系统

1 介于计算机软件与硬件之间的一层软件

管理内容包括：cpu、内存、终端、磁盘、文件

能改动操作系统，自己动手实践。掌握计算机关键技术的工程师

# L2 揭开钢琴的盖子

1 计算机是怎么工作的？

图灵机->通用图灵机 冯诺依曼：存储程序 取指执行

2 打开电源后第一条指令是什么？

IP指令指针寄存器；实模式寻址：CS:IP(CS左移4位+IP偏移)

实模式->IP=0xFFFF0(内存rom有bios区)->检查各种硬件状况->将引导扇区（0磁道0扇区）512字节内容读入内存0x7c00处

3 引导扇区代码

引导扇区代码：bootsect.s 13号中断、10号中断，读入setup、system

4 setup模块 4个扇区 

# L3 操作系统启动

1 开机两件事：读入内存->初始化,

2 setup作用：获取硬件参数、将system系统移动到内存0位置、进入保护模式、跳到0地址执行

mov	ax,#0x0001	! protected mode (PE) bit

lmsw	ax		! This is it!

jmpi	0,8		

实模式下16位：CS<<4+ip 保护模式下32位：PE=1启动保护模式 GDT地址翻译 IDT中断处理

3 head.s 32位汇编 eax ax区别 初始化GDT、页表、

# L4 操作系统接口

1 shell是个死循环 操作系统的接口就是系统调用。os提供的接口可以从应用层进入os内核

# L5 系统调用的实现

1 用户态与内核态 DPL内核优先级 CPL用户优先级

2 硬件提供中断 int 0x80 _syscall3
