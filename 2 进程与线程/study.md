# L8 CPU管理的直观想法

1 cpu工作原理

PC初始值，自动取指执行

2 cpu并发执行

修改寄存器pc值

# L9 多进程图像

1 一个命令启动一个进程,计算机分配资源的最基础单位

2 多进程如何组织？

PCB形成队列，操作系统依靠PCB感知进程。

多进程地址空间分离 内存管理 内存映射表。

进程相互合作 生产者-消费者模式
要操作寄存器完成切换(L10，L11，L12)
要写调度程序(L13，L14)
要有进程同步与合作(L16，L17) 
要有地址映射(L20)

# L10 用户级线程

1 线程：保留了并发的特点又节省了资源 thread

进程=指令+资源 

Yield

两个执行序列与一个栈？ 不行 esp栈顶指针

两个执行序列两个栈 两个TCB

# L11 内核级线程

1 切换进程是切换内核级线程，没有用户级进程 多核与多处理器 多核公用缓存映射MMU

2 内核级线程切换时一套栈：用户栈与内核栈 INT与IRET 内核线程switch_to五段论
init/main.c kernel/fork.c 和 kernel/sched.c

# L12 内核级线程代码实现